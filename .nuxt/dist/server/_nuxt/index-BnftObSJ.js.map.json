{"file":"index-BnftObSJ.js","mappings":"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","names":["error","_resolveComponent","_ssrRenderAttrs","_withCtx","_createVNode","_openBlock","_createBlock","_ssrRenderComponent"],"sources":["../../../../pages/admin/user/index.vue","../../../../pages/admin/user/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n<!--    <button-create @click=\"openModal(null)\"/>-->\r\n\r\n    <el-table :data=\"searchResult.items\" border style=\"width: 100%; margin-top: 15px\">\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"60px\" />\r\n      <el-table-column label=\"Active\" align=\"center\" min-width=\"110px\">\r\n        <template #default=\"{ row }\">\r\n          <span v-if=\"row.isActive\">Yes</span>\r\n          <span v-else>No</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"fullName\" label=\"Name\" min-width=\"180px\">\r\n        <template #header=\"\">\r\n          <el-input\r\n            v-model=\"searchForm.fullName\"\r\n            placeholder=\"Name\"\r\n            clearable\r\n            @clear=\"onSearchFormChange\"\r\n            @input=\"onSearchFormChange\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"email\" label=\"E-mail\" min-width=\"150px\">\r\n        <template #header=\"\">\r\n          <el-input\r\n            v-model=\"searchForm.email\"\r\n            placeholder=\"E-mail\"\r\n            clearable\r\n            @clear=\"onSearchFormChange\"\r\n            @input=\"onSearchFormChange\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"createdAt\" label=\"Created At\" width=\"150\" />\r\n      <el-table-column prop=\"action\" label=\"---\" width=\"118px\">\r\n        <template #default=\"{ row }\">\r\n          <buttons-table\r\n            :show-edit=\"true\"\r\n            :show-delete=\"true\"\r\n            @clickEdit=\"openModal(row)\"\r\n            @clickDelete=\"deleteItem(row)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <app-pagination :params=\"searchResult\" @change=\"onSearchFormChangePagination\"/>\r\n\r\n    <el-dialog\r\n      v-model=\"modal\"\r\n      title=\"User\"\r\n      width=\"600\"\r\n      center\r\n      align-center>\r\n      <el-form\r\n        label-position=\"top\"\r\n        ref=\"formRuleRef\"\r\n        :model=\"form\"\r\n        :rules=\"formRules\"\r\n        @keyup.enter=\"submitForm\">\r\n\r\n        <el-row :gutter=\"15\">\r\n          <el-col :span=\"24\" :xs=\"24\">\r\n            <el-form-item prop=\"isActive\" label=\"\">\r\n              <el-switch v-model=\"form.isActive\" active-text=\"Active\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" :xs=\"24\">\r\n            <el-form-item prop=\"firstname\" label=\"First name\">\r\n              <el-input v-model=\"form.firstname\" placeholder=\"First name\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" :xs=\"24\">\r\n            <el-form-item prop=\"lastname\" label=\"Last name\">\r\n              <el-input v-model=\"form.lastname\" placeholder=\"Last name\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row :gutter=\"15\">\r\n          <el-col :span=\"12\" :xs=\"24\">\r\n            <el-form-item prop=\"email\" label=\"E-mail\">\r\n              <el-input v-model=\"form.email\" placeholder=\"E-mail\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" :xs=\"24\">\r\n            <el-form-item prop=\"password\" label=\"Password\">\r\n              <el-input v-model=\"form.password\" placeholder=\"Password\" show-password/>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-form-item>\r\n          <div class=\"flex-center-row w-100\">\r\n            <button-save @click=\"submitForm\" />\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { apiFetchGet, useApiFetch, useRouter } from '#imports';\r\nimport { reactive, ref } from 'vue';\r\nimport {\r\n  emailRule,\r\n  notification,\r\n  required,\r\n  resetForm,\r\n  useValidateForm,\r\n} from '~/utils/element.utils';\r\nimport { SearchForm } from '~/model/search.form';\r\nimport { PaginationResult } from '~/model/pagination.result';\r\nimport { useAuthStore } from '~/composables/stores/useAuthStore';\r\nimport { useRoute } from '#app';\r\nimport type { FormInstance, FormRules } from 'element-plus';\r\n\r\ndefinePageMeta({\r\n  menu: {\r\n    sort: 100,\r\n    title: 'Users',\r\n    icon: 'fa-solid fa-circle',\r\n  },\r\n  // isAdmin: true,\r\n  // permission: 'User.list',\r\n  // parent: 'settings',\r\n  // breadcrumb: ['Настройки системы'],\r\n});\r\n\r\nexport default {\r\n  async setup() {\r\n    const store = useAuthStore();\r\n\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n\r\n    const searchResult = ref<PaginationResult>(new PaginationResult());\r\n    const searchForm = ref<any>({\r\n      offset: 0,\r\n      limit: 20,\r\n      fullName: null,\r\n      isActive: null,\r\n      role: null,\r\n      email: null,\r\n      phone: null,\r\n    });\r\n\r\n    searchForm.value.offset = route.query.offset || 0;\r\n    searchForm.value.limit = route.query.limit || 20;\r\n    searchForm.value.fullName = route.query.fullName || null;\r\n    searchForm.value.email = route.query.email || null;\r\n\r\n    if (route.query.isActive === 'true') {\r\n      searchForm.value.isActive = true;\r\n    } else if (route.query.isActive === 'false') {\r\n      searchForm.value.isActive = false;\r\n    }\r\n\r\n    const getList = async (params: SearchForm) => {\r\n      searchForm.value = params;\r\n      searchResult.value = await apiFetchGet<PaginationResult>(\r\n        '/user',\r\n        searchForm.value,\r\n      );\r\n      router.push({\r\n        path: route.path,\r\n        query: { ...searchForm.value },\r\n      });\r\n    };\r\n\r\n    const onSearchFormChange = async () => {\r\n      await getList(searchForm.value);\r\n    };\r\n    const onSearchFormChangePagination = (params: any) => {\r\n      searchForm.value.offset = params.offset;\r\n      searchForm.value.limit = params.limit;\r\n      onSearchFormChange();\r\n    };\r\n\r\n    getList(searchForm.value);\r\n\r\n    const deleteItem = async (item: any) => {\r\n      const { error } = await useApiFetch(\r\n        `/user/${item.id}`,\r\n        'DELETE',\r\n        {},\r\n        {\r\n          async onResponse({ request, response, options }: any) {\r\n            if (response.ok) {\r\n              notification.deleted();\r\n            } else {\r\n              notification.error('Удаление запрещено!');\r\n            }\r\n          },\r\n          async onRequestError({ request, options, error }: any) {\r\n            notification.error();\r\n          },\r\n        },\r\n        false,\r\n      );\r\n      if (!error.value) {\r\n        searchResult.value.items.splice(\r\n          searchResult.value.items.findIndex((v) => v.id === item.id),\r\n          1,\r\n        );\r\n      }\r\n    };\r\n\r\n    const formRules = reactive<FormRules>({\r\n      email: [required, emailRule],\r\n      firstname: [required],\r\n      lastname: [required],\r\n    });\r\n    const formRuleRef = ref<FormInstance>();\r\n    const form = reactive<any>({\r\n      id: null,\r\n      isActive: true,\r\n      email: null,\r\n      password: null,\r\n      firstname: null,\r\n      lastname: null,\r\n    });\r\n\r\n    const submitForm = async () => {\r\n      if (await useValidateForm(formRuleRef.value)) {\r\n        if (form.id) {\r\n          const { data, error } = await useApiFetch<any>(\r\n            `/user/${form.id}`,\r\n            'PATCH',\r\n            { ...form },\r\n          );\r\n\r\n          if (!error.value) {\r\n            searchResult.value.items.splice(\r\n              searchResult.value.items.findIndex((v) => v.id === data.value.id),\r\n              1,\r\n              { ...data.value },\r\n            );\r\n          }\r\n        }\r\n\r\n        if (!form.id) {\r\n          const { data, error } = await useApiFetch<any>(\r\n            `/user`,\r\n            'POST',\r\n            { ...form },\r\n          );\r\n          if (!error.value) {\r\n            searchResult.value.items.push({ ...data.value });\r\n          }\r\n        }\r\n\r\n        closeModal();\r\n      }\r\n    };\r\n\r\n    const modal = ref(false);\r\n\r\n    const openModal = (item: any) => {\r\n      resetForm(formRuleRef.value);\r\n\r\n      if (item) {\r\n        for (let key in item) {\r\n          // @ts-ignore\r\n          form[key] = item[key];\r\n        }\r\n      } else {\r\n        form.id = null;\r\n        for (let key in form) {\r\n          // @ts-ignore\r\n          form[key] = null;\r\n        }\r\n      }\r\n\r\n      modal.value = true;\r\n    };\r\n\r\n    const closeModal = () => {\r\n      modal.value = false;\r\n    };\r\n\r\n    return {\r\n      store,\r\n\r\n      searchResult,\r\n      searchForm,\r\n      getList,\r\n      onSearchFormChange,\r\n      onSearchFormChangePagination,\r\n\r\n      deleteItem,\r\n\r\n      modal,\r\n      openModal,\r\n      closeModal,\r\n\r\n      formRules,\r\n      form,\r\n      formRuleRef,\r\n      submitForm,\r\n\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\"></style>\r\n","<template>\r\n  <div>\r\n<!--    <button-create @click=\"openModal(null)\"/>-->\r\n\r\n    <el-table :data=\"searchResult.items\" border style=\"width: 100%; margin-top: 15px\">\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"60px\" />\r\n      <el-table-column label=\"Active\" align=\"center\" min-width=\"110px\">\r\n        <template #default=\"{ row }\">\r\n          <span v-if=\"row.isActive\">Yes</span>\r\n          <span v-else>No</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"fullName\" label=\"Name\" min-width=\"180px\">\r\n        <template #header=\"\">\r\n          <el-input\r\n            v-model=\"searchForm.fullName\"\r\n            placeholder=\"Name\"\r\n            clearable\r\n            @clear=\"onSearchFormChange\"\r\n            @input=\"onSearchFormChange\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"email\" label=\"E-mail\" min-width=\"150px\">\r\n        <template #header=\"\">\r\n          <el-input\r\n            v-model=\"searchForm.email\"\r\n            placeholder=\"E-mail\"\r\n            clearable\r\n            @clear=\"onSearchFormChange\"\r\n            @input=\"onSearchFormChange\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"createdAt\" label=\"Created At\" width=\"150\" />\r\n      <el-table-column prop=\"action\" label=\"---\" width=\"118px\">\r\n        <template #default=\"{ row }\">\r\n          <buttons-table\r\n            :show-edit=\"true\"\r\n            :show-delete=\"true\"\r\n            @clickEdit=\"openModal(row)\"\r\n            @clickDelete=\"deleteItem(row)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <app-pagination :params=\"searchResult\" @change=\"onSearchFormChangePagination\"/>\r\n\r\n    <el-dialog\r\n      v-model=\"modal\"\r\n      title=\"User\"\r\n      width=\"600\"\r\n      center\r\n      align-center>\r\n      <el-form\r\n        label-position=\"top\"\r\n        ref=\"formRuleRef\"\r\n        :model=\"form\"\r\n        :rules=\"formRules\"\r\n        @keyup.enter=\"submitForm\">\r\n\r\n        <el-row :gutter=\"15\">\r\n          <el-col :span=\"24\" :xs=\"24\">\r\n            <el-form-item prop=\"isActive\" label=\"\">\r\n              <el-switch v-model=\"form.isActive\" active-text=\"Active\"/>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" :xs=\"24\">\r\n            <el-form-item prop=\"firstname\" label=\"First name\">\r\n              <el-input v-model=\"form.firstname\" placeholder=\"First name\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" :xs=\"24\">\r\n            <el-form-item prop=\"lastname\" label=\"Last name\">\r\n              <el-input v-model=\"form.lastname\" placeholder=\"Last name\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row :gutter=\"15\">\r\n          <el-col :span=\"12\" :xs=\"24\">\r\n            <el-form-item prop=\"email\" label=\"E-mail\">\r\n              <el-input v-model=\"form.email\" placeholder=\"E-mail\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" :xs=\"24\">\r\n            <el-form-item prop=\"password\" label=\"Password\">\r\n              <el-input v-model=\"form.password\" placeholder=\"Password\" show-password/>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-form-item>\r\n          <div class=\"flex-center-row w-100\">\r\n            <button-save @click=\"submitForm\" />\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { apiFetchGet, useApiFetch, useRouter } from '#imports';\r\nimport { reactive, ref } from 'vue';\r\nimport {\r\n  emailRule,\r\n  notification,\r\n  required,\r\n  resetForm,\r\n  useValidateForm,\r\n} from '~/utils/element.utils';\r\nimport { SearchForm } from '~/model/search.form';\r\nimport { PaginationResult } from '~/model/pagination.result';\r\nimport { useAuthStore } from '~/composables/stores/useAuthStore';\r\nimport { useRoute } from '#app';\r\nimport type { FormInstance, FormRules } from 'element-plus';\r\n\r\ndefinePageMeta({\r\n  menu: {\r\n    sort: 100,\r\n    title: 'Users',\r\n    icon: 'fa-solid fa-circle',\r\n  },\r\n  // isAdmin: true,\r\n  // permission: 'User.list',\r\n  // parent: 'settings',\r\n  // breadcrumb: ['Настройки системы'],\r\n});\r\n\r\nexport default {\r\n  async setup() {\r\n    const store = useAuthStore();\r\n\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n\r\n    const searchResult = ref<PaginationResult>(new PaginationResult());\r\n    const searchForm = ref<any>({\r\n      offset: 0,\r\n      limit: 20,\r\n      fullName: null,\r\n      isActive: null,\r\n      role: null,\r\n      email: null,\r\n      phone: null,\r\n    });\r\n\r\n    searchForm.value.offset = route.query.offset || 0;\r\n    searchForm.value.limit = route.query.limit || 20;\r\n    searchForm.value.fullName = route.query.fullName || null;\r\n    searchForm.value.email = route.query.email || null;\r\n\r\n    if (route.query.isActive === 'true') {\r\n      searchForm.value.isActive = true;\r\n    } else if (route.query.isActive === 'false') {\r\n      searchForm.value.isActive = false;\r\n    }\r\n\r\n    const getList = async (params: SearchForm) => {\r\n      searchForm.value = params;\r\n      searchResult.value = await apiFetchGet<PaginationResult>(\r\n        '/user',\r\n        searchForm.value,\r\n      );\r\n      router.push({\r\n        path: route.path,\r\n        query: { ...searchForm.value },\r\n      });\r\n    };\r\n\r\n    const onSearchFormChange = async () => {\r\n      await getList(searchForm.value);\r\n    };\r\n    const onSearchFormChangePagination = (params: any) => {\r\n      searchForm.value.offset = params.offset;\r\n      searchForm.value.limit = params.limit;\r\n      onSearchFormChange();\r\n    };\r\n\r\n    getList(searchForm.value);\r\n\r\n    const deleteItem = async (item: any) => {\r\n      const { error } = await useApiFetch(\r\n        `/user/${item.id}`,\r\n        'DELETE',\r\n        {},\r\n        {\r\n          async onResponse({ request, response, options }: any) {\r\n            if (response.ok) {\r\n              notification.deleted();\r\n            } else {\r\n              notification.error('Удаление запрещено!');\r\n            }\r\n          },\r\n          async onRequestError({ request, options, error }: any) {\r\n            notification.error();\r\n          },\r\n        },\r\n        false,\r\n      );\r\n      if (!error.value) {\r\n        searchResult.value.items.splice(\r\n          searchResult.value.items.findIndex((v) => v.id === item.id),\r\n          1,\r\n        );\r\n      }\r\n    };\r\n\r\n    const formRules = reactive<FormRules>({\r\n      email: [required, emailRule],\r\n      firstname: [required],\r\n      lastname: [required],\r\n    });\r\n    const formRuleRef = ref<FormInstance>();\r\n    const form = reactive<any>({\r\n      id: null,\r\n      isActive: true,\r\n      email: null,\r\n      password: null,\r\n      firstname: null,\r\n      lastname: null,\r\n    });\r\n\r\n    const submitForm = async () => {\r\n      if (await useValidateForm(formRuleRef.value)) {\r\n        if (form.id) {\r\n          const { data, error } = await useApiFetch<any>(\r\n            `/user/${form.id}`,\r\n            'PATCH',\r\n            { ...form },\r\n          );\r\n\r\n          if (!error.value) {\r\n            searchResult.value.items.splice(\r\n              searchResult.value.items.findIndex((v) => v.id === data.value.id),\r\n              1,\r\n              { ...data.value },\r\n            );\r\n          }\r\n        }\r\n\r\n        if (!form.id) {\r\n          const { data, error } = await useApiFetch<any>(\r\n            `/user`,\r\n            'POST',\r\n            { ...form },\r\n          );\r\n          if (!error.value) {\r\n            searchResult.value.items.push({ ...data.value });\r\n          }\r\n        }\r\n\r\n        closeModal();\r\n      }\r\n    };\r\n\r\n    const modal = ref(false);\r\n\r\n    const openModal = (item: any) => {\r\n      resetForm(formRuleRef.value);\r\n\r\n      if (item) {\r\n        for (let key in item) {\r\n          // @ts-ignore\r\n          form[key] = item[key];\r\n        }\r\n      } else {\r\n        form.id = null;\r\n        for (let key in form) {\r\n          // @ts-ignore\r\n          form[key] = null;\r\n        }\r\n      }\r\n\r\n      modal.value = true;\r\n    };\r\n\r\n    const closeModal = () => {\r\n      modal.value = false;\r\n    };\r\n\r\n    return {\r\n      store,\r\n\r\n      searchResult,\r\n      searchForm,\r\n      getList,\r\n      onSearchFormChange,\r\n      onSearchFormChangePagination,\r\n\r\n      deleteItem,\r\n\r\n      modal,\r\n      openModal,\r\n      closeModal,\r\n\r\n      formRules,\r\n      form,\r\n      formRuleRef,\r\n      submitForm,\r\n\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\"></style>\r\n"],"version":3}